<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<title>Kvíz + ügyességi játék</title>
<style>
  body { font-family:sans-serif; display:flex; flex-direction:column; align-items:center; margin:0; padding:0; background:#f0f0f0; }
  #container { width:90%; max-width:400px; background:white; padding:20px; margin-top:20px; border-radius:10px; box-shadow:0 0 10px rgba(0,0,0,0.2); }
  .task-title { font-weight:bold; margin-bottom:10px; }
  .question { font-size:18px; margin-bottom:15px; }
  .answers button { margin:5px; padding:10px 15px; font-size:16px; }
  #game-area { width:100%; height:200px; margin-top:20px; position:relative; background:#eee; border-radius:10px; touch-action:none; }
  .target { width:30px; height:30px; background:red; border-radius:50%; position:absolute; cursor:pointer; }
  #score { margin-top:15px; font-weight:bold; }
</style>
</head>
<body>

<h1>Interaktív kvíz és mini játék</h1>

<div id="container">
  <div class="task-title" id="task-title">Feladat betöltése...</div>
  <div class="question" id="question"></div>
  <div class="answers" id="answers"></div>
  <div id="game-area"></div>
  <div id="score">Pontok: 0</div>
</div>

<script>
// Feladatok: kvíz + mini játék váltakozva
const tasks = [
  { type:"quiz", description:"Válaszolj a kérdésre helyesen!", q:"Melyik bolygó a Naphoz legközelebb?", options:["Föld","Merkúr","Mars","Vénusz"], answer:1 },
  { type:"game", description:"Kattints a piros gömbre minél gyorsabban!", },
  { type:"quiz", description:"Válaszolj helyesen!", q:"A víz 100°C-on forr-e?", options:["Igaz","Hamis"], answer:true },
  { type:"game", description:"Kapd el a mozgó célt a pontért!", },
];

// Pontszám
let score = 0;
let current = 0;

// Elek
const taskTitle = document.getElementById('task-title');
const questionEl = document.getElementById('question');
const answersEl = document.getElementById('answers');
const gameArea = document.getElementById('game-area');
const scoreEl = document.getElementById('score');

function loadTask() {
  gameArea.innerHTML = '';
  if(current >= tasks.length) {
    taskTitle.innerText = "Gratulálok! A játék véget ért.";
    questionEl.innerText = "";
    answersEl.innerHTML = "";
    return;
  }

  const t = tasks[current];
  taskTitle.innerText = t.description;

  if(t.type==="quiz") {
    questionEl.innerText = t.q;
    answersEl.innerHTML = '';
    t.options.forEach((opt,i)=>{
      const btn = document.createElement('button');
      btn.innerText = opt;
      btn.onclick = ()=>checkQuiz(i);
      answersEl.appendChild(btn);
    });
  } else if(t.type==="game") {
    questionEl.innerText = "";
    answersEl.innerHTML = '';
    startMiniGame();
  }
}

function checkQuiz(ans) {
  const t = tasks[current];
  let correct = false;
  if(typeof t.answer==="number") correct = ans===t.answer;
  else correct = (ans===0)===t.answer;

  if(correct) score += 10;
  else score -= 5;

  scoreEl.innerText = "Pontok: " + score;
  current++;
  loadTask();
}

// Mini játék
function startMiniGame() {
  const target = document.createElement('div');
  target.className = 'target';
  target.style.top = Math.random()*170 + 'px';
  target.style.left = Math.random()*370 + 'px';
  target.onclick = () => {
    score += 5;
    scoreEl.innerText = "Pontok: " + score;
    alert("Mini játék pont!");
    target.remove();
    current++;
    loadTask();
  };
  gameArea.appendChild(target);
}

// Betöltés
loadTask();
</script>

</body>
</html>
